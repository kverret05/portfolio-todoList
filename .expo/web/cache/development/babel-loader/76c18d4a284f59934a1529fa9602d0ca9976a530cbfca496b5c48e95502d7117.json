{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar RemoveTask = function RemoveTask(_ref) {\n  var tasktoRemove = _ref.tasktoRemove,\n    tasks = _ref.tasks,\n    setTasks = _ref.setTasks;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isRemoving = _useState2[0],\n    setIsRemoving = _useState2[1];\n  var handleRemove = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setIsRemoving(true);\n      Alert.alert(\"Remove task \" + tasktoRemove.key + \"?\", 'Are you sure you want to remove this task?', [{\n        text: 'Cancel',\n        style: 'cancel',\n        onPress: function onPress() {\n          return setIsRemoving(false);\n        }\n      }, {\n        text: 'Remove',\n        style: 'destructive',\n        onPress: doRemove\n      }]);\n    });\n    return function handleRemove() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var doRemove = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      console.log(\"Tasks before removal: \", tasks);\n      var newTasks = tasks.filter(function (task) {\n        console.log(\"task.key: \", task.key);\n        console.log(\"tasktoRemove.key: \", tasktoRemove.key);\n        return task.key !== tasktoRemove.key;\n      });\n      console.log(\"New tasks: \", newTasks);\n      yield AsyncStorage.setItem('@tasks', JSON.stringify(newTasks));\n      setTasks(newTasks);\n      setIsRemoving(false);\n    });\n    return function doRemove() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  console.log(\"tasktoRemove: \", tasktoRemove);\n  return _jsx(View, {\n    children: isRemoving ? _jsx(Text, {\n      children: \"Removing...\"\n    }) : _jsx(Button, {\n      title: \"Remove\",\n      onPress: handleRemove\n    })\n  });\n};\nexport default RemoveTask;","map":{"version":3,"names":["AsyncStorage","Alert","Button","Text","View","useState","jsx","_jsx","RemoveTask","_ref","tasktoRemove","tasks","setTasks","_useState","_useState2","_slicedToArray","isRemoving","setIsRemoving","handleRemove","_ref2","_asyncToGenerator","alert","key","text","style","onPress","doRemove","apply","arguments","_ref3","console","log","newTasks","filter","task","setItem","JSON","stringify","children","title"],"sources":["/Users/katverret/Documents/todoList/src/components/RemoveTask.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { Alert, Button, Text, View } from 'react-native';\r\nimport { useState } from 'react';\r\n\r\nconst RemoveTask = ({tasktoRemove, tasks, setTasks}) => {\r\n  const [isRemoving, setIsRemoving] = useState(false);\r\n  const handleRemove = async () => {\r\n    setIsRemoving(true);\r\n\r\n    Alert.alert(\r\n      `Remove task ${tasktoRemove.key}?`,\r\n      'Are you sure you want to remove this task?',\r\n      [\r\n        { text: 'Cancel', style: 'cancel', onPress: () => setIsRemoving(false) },\r\n        { text: 'Remove', style: 'destructive', onPress: doRemove },\r\n      ],\r\n    );\r\n  };\r\n\r\n  const doRemove = async () => {\r\n    console.log(\"Tasks before removal: \", tasks);\r\n    const newTasks = tasks.filter(task => {\r\n      console.log(\"task.key: \", task.key);\r\n      console.log(\"tasktoRemove.key: \", tasktoRemove.key);\r\n      return task.key !== tasktoRemove.key;\r\n    });\r\n    console.log(\"New tasks: \", newTasks);\r\n    await AsyncStorage.setItem('@tasks', JSON.stringify(newTasks));\r\n    setTasks(newTasks);\r\n    setIsRemoving(false);\r\n  };\r\n\r\n  console.log(\"tasktoRemove: \", tasktoRemove);\r\n  return (\r\n    <View>\r\n      {isRemoving ? (\r\n        <Text>Removing...</Text>\r\n      ) : (\r\n        <Button title=\"Remove\" onPress={handleRemove} />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default RemoveTask;\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAAC,OAAAC,KAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAErE,SAASC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEjC,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAAC,IAAA,EAAwC;EAAA,IAAnCC,YAAY,GAAAD,IAAA,CAAZC,YAAY;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;IAAEC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;EAChD,IAAAC,SAAA,GAAoCR,QAAQ,CAAC,KAAK,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA5CG,UAAU,GAAAF,UAAA;IAAEG,aAAa,GAAAH,UAAA;EAChC,IAAMI,YAAY;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAC/BH,aAAa,CAAC,IAAI,CAAC;MAEnBhB,KAAK,CAACoB,KAAK,kBACMX,YAAY,CAACY,GAAG,QAC/B,4CAA4C,EAC5C,CACE;QAAEC,IAAI,EAAE,QAAQ;QAAEC,KAAK,EAAE,QAAQ;QAAEC,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMR,aAAa,CAAC,KAAK,CAAC;QAAA;MAAC,CAAC,EACxE;QAAEM,IAAI,EAAE,QAAQ;QAAEC,KAAK,EAAE,aAAa;QAAEC,OAAO,EAAEC;MAAS,CAAC,CAC5D,CACF;IACH,CAAC;IAAA,gBAXKR,YAAYA,CAAA;MAAA,OAAAC,KAAA,CAAAQ,KAAA,OAAAC,SAAA;IAAA;EAAA,GAWjB;EAED,IAAMF,QAAQ;IAAA,IAAAG,KAAA,GAAAT,iBAAA,CAAG,aAAY;MAC3BU,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEpB,KAAK,CAAC;MAC5C,IAAMqB,QAAQ,GAAGrB,KAAK,CAACsB,MAAM,CAAC,UAAAC,IAAI,EAAI;QACpCJ,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEG,IAAI,CAACZ,GAAG,CAAC;QACnCQ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAErB,YAAY,CAACY,GAAG,CAAC;QACnD,OAAOY,IAAI,CAACZ,GAAG,KAAKZ,YAAY,CAACY,GAAG;MACtC,CAAC,CAAC;MACFQ,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEC,QAAQ,CAAC;MACpC,MAAMhC,YAAY,CAACmC,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CAAC;MAC9DpB,QAAQ,CAACoB,QAAQ,CAAC;MAClBf,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC;IAAA,gBAXKS,QAAQA,CAAA;MAAA,OAAAG,KAAA,CAAAF,KAAA,OAAAC,SAAA;IAAA;EAAA,GAWb;EAEDE,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAErB,YAAY,CAAC;EAC3C,OACEH,IAAA,CAACH,IAAI;IAAAkC,QAAA,EACFtB,UAAU,GACTT,IAAA,CAACJ,IAAI;MAAAmC,QAAA,EAAC;IAAW,EAAO,GAExB/B,IAAA,CAACL,MAAM;MAACqC,KAAK,EAAC,QAAQ;MAACd,OAAO,EAAEP;IAAa;EAC9C,EACI;AAEX,CAAC;AAED,eAAeV,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}